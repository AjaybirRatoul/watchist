(this.webpackJsonpwatchist=this.webpackJsonpwatchist||[]).push([[0],{95:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(0),s=a.n(n),r=a(28),i=a.n(r),o=a(11),l=a.n(o),d=a(14),u=a(10),j=a(100),b=a(107),O=a(105),h=a(103),p=a(67),x=a(64),m=(a(77),a(79),x.a.initializeApp({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/watchist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/watchist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/watchist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/watchist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/watchist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/watchist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/watchist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_APP_ID})),A=m.auth(),v=m,f=s.a.createContext();function S(){return Object(n.useContext)(f)}function w(e){var t=e.children,a=Object(n.useState)(),s=Object(u.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(!0),l=Object(u.a)(o,2),d=l[0],j=l[1];Object(n.useEffect)((function(){return A.onAuthStateChanged((function(e){i(e),j(!1)}))}),[]);var b={currentUser:r,login:function(e,t){return A.signInWithEmailAndPassword(e,t)},signup:function(e,t){return A.createUserWithEmailAndPassword(e,t)},logout:function(){return A.signOut()},resetPassword:function(e){return A.sendPasswordResetEmail(e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)}};return Object(c.jsx)(f.Provider,{value:b,children:!d&&t})}var _=a(13),E=a(15);function g(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),s=S().signup,r=Object(n.useState)(""),i=Object(u.a)(r,2),o=i[0],x=i[1],m=Object(n.useState)(!1),A=Object(u.a)(m,2),v=A[0],f=A[1],w=Object(_.g)();function g(){return(g=Object(d.a)(l.a.mark((function c(n){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),t.current.value===a.current.value){c.next=3;break}return c.abrupt("return",x("Passwords do not match"));case 3:return c.prev=3,x(""),f(!0),c.next=8,s(e.current.value,t.current.value);case 8:w.push("".concat("/watchist","/")),c.next=21;break;case 11:c.prev=11,c.t0=c.catch(3),c.t1=c.t0.code,c.next="auth/email-already-in-use"===c.t1?16:"auth/weak-password"===c.t1?18:20;break;case 16:return x("User email already exists"),c.abrupt("break",21);case 18:return x("Use at least 6 characters in password"),c.abrupt("break",21);case 20:x("Failed to create an account");case 21:f(!1);case 22:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(j.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),o&&Object(c.jsx)(O.a,{variant:"danger",children:o}),Object(c.jsxs)(h.a,{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(c.jsxs)(h.a.Group,{id:"email",children:[Object(c.jsx)(h.a.Label,{children:"Email"}),Object(c.jsx)(h.a.Control,{type:"email",ref:e,required:!0})]}),Object(c.jsxs)(h.a.Group,{id:"password",children:[Object(c.jsx)(h.a.Label,{children:"Password"}),Object(c.jsx)(h.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Must be at least 6 characters long"}),Object(c.jsx)(h.a.Control,{type:"password",ref:t,required:!0})]}),Object(c.jsxs)(h.a.Group,{id:"password-confirm",children:[Object(c.jsx)(h.a.Label,{children:"Confirm Password"}),Object(c.jsx)(h.a.Control,{type:"password",ref:a,required:!0})]}),Object(c.jsx)(p.a,{disabled:v,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(c.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(c.jsx)(E.b,{to:"/login",children:"Log In"})]})]})})})}function y(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=S().login,s=Object(n.useState)(""),r=Object(u.a)(s,2),i=r[0],o=r[1],x=Object(n.useState)(!1),m=Object(u.a)(x,2),A=m[0],v=m[1],f=Object(_.g)();function w(){return(w=Object(d.a)(l.a.mark((function c(n){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,o(""),v(!0),c.next=6,a(e.current.value,t.current.value);case 6:f.push("".concat("/watchist","/")),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),o("Email and password combination is incorrect");case 12:v(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(j.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:" Log In "}),i&&Object(c.jsxs)(O.a,{variant:"danger",children:[" ",i," "]}),Object(c.jsxs)(h.a,{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(c.jsxs)(h.a.Group,{id:"email",children:[Object(c.jsx)(h.a.Label,{children:" Email "}),Object(c.jsx)(h.a.Control,{type:"email",ref:e,required:!0})]}),Object(c.jsxs)(h.a.Group,{id:"password",children:[Object(c.jsx)(h.a.Label,{children:" Password "}),Object(c.jsx)(h.a.Control,{type:"password",ref:t,required:!0})]}),Object(c.jsx)(p.a,{disabled:A,className:"w-100",type:"submit",children:"Log In"})]}),Object(c.jsx)("div",{className:"w-100 text-center mt-3",children:Object(c.jsx)(E.b,{to:"/forgot-password",children:" Forgot Password ? "})})]})}),Object(c.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account ? ",Object(c.jsx)(E.b,{to:"/signup",children:" Sign Up "})]})]})})})}var T=a(20),P=a(70);function R(e){var t=e.component,a=Object(P.a)(e,["component"]),n=S().currentUser;return Object(c.jsx)(_.b,Object(T.a)(Object(T.a)({},a),{},{render:function(e){return n?Object(c.jsx)(t,Object(T.a)({},e)):Object(c.jsx)(_.a,{to:"".concat("/watchist","/signup")})}}))}function C(){var e=Object(n.useRef)(),t=S().resetPassword,a=Object(n.useState)(""),s=Object(u.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(""),x=Object(u.a)(o,2),m=x[0],A=x[1],v=Object(n.useState)(!1),f=Object(u.a)(v,2),w=f[0],_=f[1];function g(){return(g=Object(d.a)(l.a.mark((function a(c){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,A(""),i(""),_(!0),a.next=7,t(e.current.value);case 7:A("Check your inbox for further instructions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),i("Failed to reset password");case 13:_(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(j.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),r&&Object(c.jsx)(O.a,{variant:"danger",children:r}),m&&Object(c.jsx)(O.a,{variant:"success",children:m}),Object(c.jsxs)(h.a,{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(c.jsxs)(h.a.Group,{id:"email",children:[Object(c.jsx)(h.a.Label,{children:"Email"}),Object(c.jsx)(h.a.Control,{type:"email",ref:e,required:!0})]}),Object(c.jsx)(p.a,{disabled:w,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(c.jsx)("div",{className:"w-100 text-center mt-3",children:Object(c.jsx)(E.b,{to:"/login",children:"Login"})})]})}),Object(c.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(c.jsx)(E.b,{to:"/signup",children:"Sign Up"})]})]})})})}function N(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),s=S(),r=s.currentUser,i=s.updatePassword,o=s.updateEmail,l=Object(n.useState)(""),d=Object(u.a)(l,2),x=d[0],m=d[1],A=Object(n.useState)(!1),v=Object(u.a)(A,2),f=v[0],w=v[1],g=Object(_.g)();return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(j.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),x&&Object(c.jsx)(O.a,{variant:"danger",children:x}),Object(c.jsxs)(h.a,{onSubmit:function(c){if(c.preventDefault(),t.current.value!==a.current.value)return m("Passwords do not match");var n=[];w(!0),m(""),e.current.value!==r.email&&n.push(o(e.current.value)),t.current.value&&n.push(i(t.current.value)),Promise.all(n).then((function(){g.push("".concat("/watchist","/"))})).catch((function(e){switch(e.code){case"auth/email-already-in-use":m("User email already exists");break;case"auth/id-token-revoked":m("Session expired, please login again"),setTimeout((function(){g.push("".concat("/watchist","/login"))}),3e3);break;case"auth/weak-password":m("Use at least 6 characters in password");break;default:m("Failed to update account")}})).finally((function(){w(!1)}))},children:[Object(c.jsxs)(h.a.Group,{id:"email",children:[Object(c.jsx)(h.a.Label,{children:"Email"}),Object(c.jsx)(h.a.Control,{type:"email",ref:e,required:!0,defaultValue:r.email})]}),Object(c.jsxs)(h.a.Group,{id:"password",children:[Object(c.jsx)(h.a.Label,{children:"Password"}),Object(c.jsx)(h.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(c.jsxs)(h.a.Group,{id:"password-confirm",children:[Object(c.jsx)(h.a.Label,{children:"Password Confirmation"}),Object(c.jsx)(h.a.Control,{type:"password",ref:a,placeholder:"Leave blank to keep the same"})]}),Object(c.jsx)(p.a,{disabled:f,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(c.jsx)("div",{className:"w-100 text-center mt-2",children:Object(c.jsx)(E.b,{to:"/",children:"Cancel"})})]})})})}var D=a(104),k=a(106),U=a(102),F=a.p+"static/media/logo.792cc7bc.png";function I(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),s=a[0],r=a[1],i=e.activeItem,o=S(),j=o.currentUser,b=o.logout,h=Object(_.g)();function p(){return(p=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,b();case 4:h.push("".concat("/watchist","/login")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(D.a,{bg:"light",expand:"lg",children:[Object(c.jsxs)(D.a.Brand,{className:"mr-4",children:[Object(c.jsx)("img",{src:F,width:"40",height:"40",className:"d-inline-block align-top",alt:"Watchist logo"}),Object(c.jsx)("div",{className:"d-inline-block my-2",style:{fontFamily:"Josefin Sans",fontSize:"20px"},children:"Watchist"})]}),Object(c.jsx)(D.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(D.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(k.a,{className:"mr-auto",children:[Object(c.jsx)(k.a.Link,{as:E.b,name:"discover",onClick:function(){h.push("".concat("/watchist","/"))},active:"discover"===i,children:"Discover"}),Object(c.jsx)(k.a.Link,{as:E.b,name:"watch-list",onClick:function(){h.push("".concat("/watchist","/watch-list"))},active:"watch-list"===i,children:"My Watch List"})]})}),Object(c.jsxs)(D.a.Collapse,{className:"justify-content-end",children:[Object(c.jsx)(D.a.Text,{children:"Signed in as:"}),Object(c.jsxs)(U.a,{title:j.email,id:"basic-nav-dropdown",children:[Object(c.jsx)(E.b,{to:"/update-profile",className:"dropdown-item",children:"Update Profile"}),Object(c.jsx)(U.a.Divider,{}),Object(c.jsx)(U.a.Item,{onClick:function(){return p.apply(this,arguments)},children:"Log out"})]})]})]}),s&&Object(c.jsx)(O.a,{variant:"danger",children:s})]})}var L=a(101),H=(a(89),a(38)),K=a(69),B=a.n(K);function W(e){var t=S().currentUser,a=v.database().ref("users").child("".concat(t.uid,"/watchlist")),s=Object(n.useState)(e.result.id in e.watchList),r=Object(u.a)(s,2),i=r[0],o=r[1],j=Object(n.useState)(!0),O=Object(u.a)(j,2),h=O[0],x=O[1];return h&&Object(c.jsx)("div",{className:"pb-4 col-6 col-sm-6 col-md-4 col-lg-3 col-xl-2",children:Object(c.jsxs)(b.a,{className:"border-0",children:[Object(c.jsx)("div",{className:"border=0 embed-responsive",style:{paddingBottom:"150%"},children:Object(c.jsx)(b.a.Img,{variant:"top",src:e.result.poster_path?"https://image.tmdb.org/t/p/w342/".concat(e.result.poster_path):"data:image/png;base64,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",className:"embed-responsive-item"})}),Object(c.jsxs)(b.a.Body,{className:"p-0",children:[Object(c.jsx)(b.a.Title,{className:"mt-1 mb-0 p-0",style:{fontSize:"14px"},children:Object(c.jsx)(B.a,{lines:2,portrait:2,dangerouslySetInnerHTML:{__html:e.result.original_title||e.result.original_name||"No title"}})}),Object(c.jsx)("div",{className:"d-flex",children:"".concat(e.result.release_date?e.result.release_date.substring(0,4):e.result.first_air_date?e.result.first_air_date.substring(0,4):"No Date"," \u2022 \n            ").concat("movie"===e.result.media_type?"Movie":"Show")}),Object(c.jsx)("div",{className:"d-flex justify-content-center",children:i?Object(c.jsx)(p.a,{id:e.result.id,className:"mt-1",style:{width:"100%"},variant:"primary",onClick:function(){var t=Object(d.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.update(Object(H.a)({},c.target.id,null));case 2:e.deleteFully?x(!1):o(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Remove"}):Object(c.jsx)(p.a,{id:e.result.id,className:"mt-1",style:{width:"100%"},variant:"primary",onClick:function(){var t=Object(d.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.update(Object(H.a)({},c.target.id,{type:e.result.media_type,ID:c.target.id})).then(o(!0));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Add"})})]})]})})}var J=a.p+"static/media/tmdblogo.caee7457.svg";function G(){var e=S().currentUser,t=Object(n.useState)(""),a=Object(u.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)([]),o=Object(u.a)(i,2),b=o[0],x=o[1],m=Object(n.useState)(""),A=Object(u.a)(m,2),f=A[0],w=A[1],_=Object(n.useState)(!1),E=Object(u.a)(_,2),g=E[0],y=E[1],T=Object(n.useState)({}),P=Object(u.a)(T,2),R=P[0],C=P[1],N=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.next=3,v.database().ref("users").child("".concat(e.uid,"/watchlist/")).once("value",function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exists()&&C(t.val());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return t.next=5,fetch("https://api.themoviedb.org/3/search/multi?api_key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/watchist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TMDB_API_KEY,"&language=en-US&query=").concat(s,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){0===e.total_results&&w("No Results Found"),x(e.results)}));case 5:y(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(j.a,{className:"pt-4",children:[Object(c.jsxs)(L.a,{className:"mb-1",children:[Object(c.jsx)(h.a.Control,{className:"py-2 br-0 border input-lg",type:"search",placeholder:"Find movies and shows",value:s,onChange:function(e){r(e.target.value),w("")},onKeyPress:function(e){13===e.charCode&&N()},style:{fontSize:"16px"}}),Object(c.jsx)(L.a.Append,{children:Object(c.jsx)(p.a,{onClick:N,disabled:g,children:g?Object(c.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Search"})})]}),Object(c.jsxs)("div",{className:"mt-2 mb-4",style:{float:"right"},children:["Powered by:",Object(c.jsx)("img",{className:"ml-2",style:{height:"10px"},src:J,alt:"TMDB Logo"})]}),f&&Object(c.jsx)(O.a,{variant:"dark",children:f}),Object(c.jsx)("div",{className:"row",children:b?b.map((function(e){return Object(c.jsx)(W,{watchList:R,result:e},e.id)})):null})]})})}function M(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I,{activeItem:"discover"}),Object(c.jsx)(G,{})]})}var V=a(41);function z(){var e=S().currentUser,t=Object(n.useState)([]),a=Object(u.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)({}),o=Object(u.a)(i,2),b=o[0],O=o[1];function h(){return(h=Object(d.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.database().ref("users").child("".concat(e.uid,"/watchlist/")).once("value",function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exists()&&O(t.val());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:Object.keys(a.val()).map((function(e){"movie"===a.val()[e].type?fetch("https://api.themoviedb.org/3/movie/".concat(a.val()[e].ID,"?api_key=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/watchist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TMDB_API_KEY,"&language=en-US")).then((function(e){return e.json()})).then((function(e){console.log([].concat(Object(V.a)(s),[Object(T.a)(Object(T.a)({},e),{media_type:"tv"})])),r((function(t){return[].concat(Object(V.a)(t),[Object(T.a)(Object(T.a)({},e),{media_type:"movie"})])}))})):fetch("https://api.themoviedb.org/3/tv/".concat(a.val()[e].ID,"?api_key=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/watchist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TMDB_API_KEY,"&language=en-US")).then((function(e){return e.json()})).then((function(e){console.log([].concat(Object(V.a)(s),[Object(T.a)(Object(T.a)({},e),{media_type:"tv"})])),r((function(t){return[].concat(Object(V.a)(t),[Object(T.a)(Object(T.a)({},e),{media_type:"tv"})])}))}))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){v.database().ref("users").child("".concat(e.uid,"/watchlist/")).once("value",(function(e){e.exists()&&function(e){h.apply(this,arguments)}(e)}))}),[e.uid]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I,{activeItem:"watch-list"}),Object(c.jsx)(j.a,{className:"pt-5",children:Object(c.jsx)("div",{className:"row",children:s?s.map((function(e){return Object(c.jsx)(W,{watchList:b,result:e,deleteFully:!0},e.id)})):null})})]})}var q=function(){return Object(c.jsx)(E.a,{children:Object(c.jsx)(_.d,{children:Object(c.jsxs)(w,{children:[Object(c.jsx)(R,{path:"".concat("/watchist","/update-profile"),component:N}),Object(c.jsx)(_.b,{path:"".concat("/watchist","/signup"),component:g}),Object(c.jsx)(_.b,{path:"".concat("/watchist","/login"),component:y}),Object(c.jsx)(_.b,{path:"".concat("/watchist","/forgot-password"),component:C}),Object(c.jsx)(R,{exact:!0,path:"".concat("/watchist","/"),component:M}),Object(c.jsx)(R,{path:"".concat("/watchist","/watch-list"),component:z})]})})})};a(94);i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(q,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.a66f212f.chunk.js.map