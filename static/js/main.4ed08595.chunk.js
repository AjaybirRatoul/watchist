(this.webpackJsonpwatchist=this.webpackJsonpwatchist||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(0),s=a.n(n),r=a(28),i=a.n(r),o=a(11),l=a.n(o),u=a(16),d=a(10),j=a(108),b=a(116),h=a(109),p=a(113),x=a(74),O=a(38),f=a(72),m=(a(83),a(85),f.a.initializeApp({apiKey:"AIzaSyBm3plCHL7SqJtC5J82NCK7xg1cQehzGrA",authDomain:"watchist-development.firebaseapp.com",databaseURL:"https://watchist-development-default-rtdb.firebaseio.com",projectId:"watchist-development",storageBucket:"watchist-development.appspot.com",messagingSenderId:"67018022345",appId:"1:67018022345:web:ccf130ed4a1592f1dbdc18"})),v=m.auth();function w(){return(w=Object(u.a)(l.a.mark((function e(t,a,c){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.database().ref("users").child("".concat(t,"/watchlist")),e.next=3,n.update(Object(O.a)({},a,{type:c,ID:a}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,a){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(l.a.mark((function e(t,a,c){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.database().ref("users").child("".concat(t,"/watchlist")),e.next=3,n.update(Object(O.a)({},a,null));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,a){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function e(t,a,c){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.database().ref("users").child("".concat(t,"/watched")),e.next=3,n.update(Object(O.a)({},a,{type:c,ID:a}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(u.a)(l.a.mark((function e(t,a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=m.database().ref("users").child("".concat(t,"/watched")),e.next=3,c.update(Object(O.a)({},a,null));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.database().ref("users").child("".concat(t,"/watchlist/")).once("value");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.database().ref("users").child("".concat(t,"/watched/")).once("value");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=s.a.createContext();function I(){return Object(n.useContext)(U)}function J(e){var t=e.children,a=Object(n.useState)(),s=Object(d.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(!0),l=Object(d.a)(o,2),u=l[0],j=l[1];Object(n.useEffect)((function(){return v.onAuthStateChanged((function(e){i(e),j(!1)}))}),[]);var b={currentUser:r,login:function(e,t){return v.signInWithEmailAndPassword(e,t)},signup:function(e,t){return v.createUserWithEmailAndPassword(e,t)},logout:function(){return v.signOut()},resetPassword:function(e){return v.sendPasswordResetEmail(e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)}};return Object(c.jsx)(U.Provider,{value:b,children:!u&&t})}var L=a(15),B=a(14);function F(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),s=I().signup,r=Object(n.useState)(""),i=Object(d.a)(r,2),o=i[0],O=i[1],f=Object(n.useState)(!1),m=Object(d.a)(f,2),v=m[0],w=m[1],y=Object(L.g)();function g(){return(g=Object(u.a)(l.a.mark((function c(n){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),t.current.value===a.current.value){c.next=3;break}return c.abrupt("return",O("Passwords do not match"));case 3:return c.prev=3,O(""),w(!0),c.next=8,s(e.current.value,t.current.value);case 8:y.push("".concat("/watchist","/")),c.next=21;break;case 11:c.prev=11,c.t0=c.catch(3),c.t1=c.t0.code,c.next="auth/email-already-in-use"===c.t1?16:"auth/weak-password"===c.t1?18:20;break;case 16:return O("User email already exists"),c.abrupt("break",21);case 18:return O("Use at least 6 characters in password"),c.abrupt("break",21);case 20:O("Failed to create an account");case 21:w(!1);case 22:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(j.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),o&&Object(c.jsx)(h.a,{variant:"danger",children:o}),Object(c.jsxs)(p.a,{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(c.jsxs)(p.a.Group,{id:"email",children:[Object(c.jsx)(p.a.Label,{children:"Email"}),Object(c.jsx)(p.a.Control,{type:"email",ref:e,required:!0})]}),Object(c.jsxs)(p.a.Group,{id:"password",children:[Object(c.jsx)(p.a.Label,{children:"Password"}),Object(c.jsx)(p.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Must be at least 6 characters long"}),Object(c.jsx)(p.a.Control,{type:"password",ref:t,required:!0})]}),Object(c.jsxs)(p.a.Group,{id:"password-confirm",children:[Object(c.jsx)(p.a.Label,{children:"Confirm Password"}),Object(c.jsx)(p.a.Control,{type:"password",ref:a,required:!0})]}),Object(c.jsx)(x.a,{disabled:v,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(c.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account?"," ",Object(c.jsx)(B.b,{to:"".concat("/watchist","/login"),children:"Log In"})]})]})})})}function M(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=I().login,s=Object(n.useState)(""),r=Object(d.a)(s,2),i=r[0],o=r[1],O=Object(n.useState)(!1),f=Object(d.a)(O,2),m=f[0],v=f[1],w=Object(L.g)();function y(){return(y=Object(u.a)(l.a.mark((function c(n){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,o(""),v(!0),c.next=6,a(e.current.value,t.current.value);case 6:w.push("".concat("/watchist","/")),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),o("Email and password combination is incorrect");case 12:v(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(j.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:" Log In "}),i&&Object(c.jsxs)(h.a,{variant:"danger",children:[" ",i," "]}),Object(c.jsxs)(p.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(c.jsxs)(p.a.Group,{id:"email",children:[Object(c.jsx)(p.a.Label,{children:" Email "}),Object(c.jsx)(p.a.Control,{type:"email",ref:e,required:!0})]}),Object(c.jsxs)(p.a.Group,{id:"password",children:[Object(c.jsx)(p.a.Label,{children:" Password "}),Object(c.jsx)(p.a.Control,{type:"password",ref:t,required:!0})]}),Object(c.jsx)(x.a,{disabled:m,className:"w-100",type:"submit",children:"Log In"})]}),Object(c.jsx)("div",{className:"w-100 text-center mt-3",children:Object(c.jsxs)(B.b,{to:"".concat("/watchist","/forgot-password"),children:[" ","Forgot Password ?"," "]})})]})}),Object(c.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account ?"," ",Object(c.jsx)(B.b,{to:"".concat("/watchist","/signup"),children:" Sign Up "})]})]})})})}var E=a(20),z=a(76);function D(e){var t=e.component,a=Object(z.a)(e,["component"]),n=I().currentUser;return Object(c.jsx)(L.b,Object(E.a)(Object(E.a)({},a),{},{render:function(e){return n?Object(c.jsx)(t,Object(E.a)({},e)):Object(c.jsx)(L.a,{to:"".concat("/watchist","/signup")})}}))}function G(){var e=Object(n.useRef)(),t=I().resetPassword,a=Object(n.useState)(""),s=Object(d.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(""),O=Object(d.a)(o,2),f=O[0],m=O[1],v=Object(n.useState)(!1),w=Object(d.a)(v,2),y=w[0],g=w[1];function A(){return(A=Object(u.a)(l.a.mark((function a(c){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,m(""),i(""),g(!0),a.next=7,t(e.current.value);case 7:m("Check your inbox for further instructions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),i("Failed to reset password");case 13:g(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(j.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),r&&Object(c.jsx)(h.a,{variant:"danger",children:r}),f&&Object(c.jsx)(h.a,{variant:"success",children:f}),Object(c.jsxs)(p.a,{onSubmit:function(e){return A.apply(this,arguments)},children:[Object(c.jsxs)(p.a.Group,{id:"email",children:[Object(c.jsx)(p.a.Label,{children:"Email"}),Object(c.jsx)(p.a.Control,{type:"email",ref:e,required:!0})]}),Object(c.jsx)(x.a,{disabled:y,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(c.jsx)("div",{className:"w-100 text-center mt-3",children:Object(c.jsx)(B.b,{to:"".concat("/watchist","/login"),children:"Login"})})]})}),Object(c.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account?"," ",Object(c.jsx)(B.b,{to:"".concat("/watchist","/signup"),children:"Sign Up"})]})]})})})}function H(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),s=I(),r=s.currentUser,i=s.updatePassword,o=s.updateEmail,l=Object(n.useState)(""),u=Object(d.a)(l,2),O=u[0],f=u[1],m=Object(n.useState)(!1),v=Object(d.a)(m,2),w=v[0],y=v[1],g=Object(L.g)();return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(j.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),O&&Object(c.jsx)(h.a,{variant:"danger",children:O}),Object(c.jsxs)(p.a,{onSubmit:function(c){if(c.preventDefault(),t.current.value!==a.current.value)return f("Passwords do not match");var n=[];y(!0),f(""),e.current.value!==r.email&&n.push(o(e.current.value)),t.current.value&&n.push(i(t.current.value)),Promise.all(n).then((function(){g.push("".concat("/watchist","/"))})).catch((function(e){switch(e.code){case"auth/email-already-in-use":f("User email already exists");break;case"auth/id-token-revoked":f("Session expired, please login again"),setTimeout((function(){g.push("".concat("/watchist","/login"))}),3e3);break;case"auth/weak-password":f("Use at least 6 characters in password");break;default:f("Failed to update account")}})).finally((function(){y(!1)}))},children:[Object(c.jsxs)(p.a.Group,{id:"email",children:[Object(c.jsx)(p.a.Label,{children:"Email"}),Object(c.jsx)(p.a.Control,{type:"email",ref:e,required:!0,defaultValue:r.email})]}),Object(c.jsxs)(p.a.Group,{id:"password",children:[Object(c.jsx)(p.a.Label,{children:"Password"}),Object(c.jsx)(p.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(c.jsxs)(p.a.Group,{id:"password-confirm",children:[Object(c.jsx)(p.a.Label,{children:"Password Confirmation"}),Object(c.jsx)(p.a.Control,{type:"password",ref:a,placeholder:"Leave blank to keep the same"})]}),Object(c.jsx)(x.a,{disabled:w,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(c.jsx)("div",{className:"w-100 text-center mt-2",children:Object(c.jsx)(B.b,{to:"".concat("/watchist","/"),children:"Cancel"})})]})})})}var W=a(114),q=a(115),K=a(111),Z=a.p+"static/media/logo.792cc7bc.png";function T(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),s=a[0],r=a[1],i=e.activeItem,o=I(),j=o.currentUser,b=o.logout,p=Object(L.g)();function x(){return(x=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,b();case 4:p.push("".concat("/watchist","/login")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(W.a,{bg:"light",expand:"lg",children:[Object(c.jsxs)(W.a.Brand,{className:"mr-4",children:[Object(c.jsx)("img",{src:Z,width:"40",height:"40",className:"d-inline-block align-top",alt:"Watchist logo"}),Object(c.jsx)("div",{className:"d-inline-block my-2",style:{fontFamily:"Josefin Sans",fontSize:"20px"},children:"Watchist"})]}),Object(c.jsx)(W.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(W.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(q.a,{className:"mr-auto",children:[Object(c.jsx)(q.a.Link,{as:B.b,name:"discover",onClick:function(){p.push("".concat("/watchist","/"))},active:"discover"===i,children:"Discover"}),Object(c.jsx)(q.a.Link,{as:B.b,name:"watch-list",onClick:function(){p.push("".concat("/watchist","/watch-list"))},active:"watch-list"===i,children:"Watch List"}),Object(c.jsx)(q.a.Link,{as:B.b,name:"watched",onClick:function(){p.push("".concat("/watchist","/watched"))},active:"watched"===i,children:"Watched"})]})}),Object(c.jsxs)(W.a.Collapse,{className:"justify-content-end",children:[Object(c.jsx)(W.a.Text,{children:"Signed in as:"}),Object(c.jsxs)(K.a,{title:j.email,id:"basic-nav-dropdown",children:[Object(c.jsx)(B.b,{to:"".concat("/watchist","/update-profile"),className:"dropdown-item",children:"Update Profile"}),Object(c.jsx)(K.a.Divider,{}),Object(c.jsx)(K.a.Item,{onClick:function(){return x.apply(this,arguments)},children:"Log out"})]})]})]}),s&&Object(c.jsx)(h.a,{variant:"danger",children:s})]})}var X=a(110),Q=(a(94),a(75)),V=a.n(Q),Y=a(112);function _(e){var t=I().currentUser,a=Object(n.useState)(!1),s=Object(d.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(!1),l=Object(d.a)(o,2),u=l[0],j=l[1];return S(t.uid).then((function(t){t.exists()&&e.id in t.val()&&i(!0)})),C(t.uid).then((function(t){t.exists()&&e.id in t.val()&&j(!0)})),Object(c.jsxs)(Y.a,{show:e.showModal,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(Y.a.Body,{className:"border-0 p-0",style:{borderRadius:"3px 3px 0px 0px"},children:Object(c.jsx)("div",{className:"p-3",style:{backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, 1) 5%, rgba(51, 51, 51, 0.8) 100%), url(".concat(e.posterBackdrop,")"),backgroundSize:"cover",backgroundPosition:"center",color:"white",borderRadius:"3px 3px 0px 0px"},children:Object(c.jsxs)("div",{className:"row m-0 justify-content-center",children:[Object(c.jsx)("div",{className:"mb-3 d-flex justify-content-center col-8 col-sm-6 col-md-3 col-lg-3 col-xl-3 p-0 d-inline-block",style:{textAlign:"center"},children:Object(c.jsx)("img",{alt:"",style:{border:"1px solid #999",width:"100%",maxHeight:"300px",maxWidth:"200px"},src:"".concat(e.poster)})}),Object(c.jsx)("div",{className:"d-flex align-items-center col-12 col-sm-12 col-md-9 col-lg-9 col-xl-9 d-inline-block pt-2",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"".concat(e.title," (").concat(e.yearRelease,")")}),Object(c.jsx)("p",{children:"".concat(e.overview)})]})})]})})}),Object(c.jsxs)(Y.a.Footer,{className:"border-0 p-4",style:{backgroundColor:"black"},children:[r?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a,{variant:"danger",onClick:function(){y(t.uid,e.id).then((function(){i(!1),e.setRefreshResults&&(e.setRefreshResults((function(e){return!e})),e.setShowModal(!1))}))},children:"Remove from Watch List"}),Object(c.jsx)(x.a,{variant:"primary",onClick:function(){A(t.uid,e.id,"Movie"===e.type?"movie":"tv").then(y(t.uid,e.id)).then((function(){j(!0),i(!1),e.setRefreshResults&&(e.setRefreshResults((function(e){return!e})),e.setShowModal(!1))}))},children:"Move to Watched"})]}):u?Object(c.jsx)(x.a,{variant:"danger",onClick:function(){(function(e,t){return R.apply(this,arguments)})(t.uid,e.id).then((function(){j(!1),e.setRefreshResults&&(e.setRefreshResults((function(e){return!e})),e.setShowModal(!1))}))},children:"Remove from Watched"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a,{variant:"primary",onClick:function(){(function(e,t,a){return w.apply(this,arguments)})(t.uid,e.id,"Movie"===e.type?"movie":"tv").then((function(){i(!0),e.setRefreshResults&&(e.setRefreshResults((function(e){return!e})),e.setShowModal(!1))}))},children:"Add to Watch List"}),Object(c.jsx)(x.a,{variant:"primary",onClick:function(){A(t.uid,e.id,"Movie"===e.type?"movie":"tv").then((function(){j(!0),e.setRefreshResults&&(e.setRefreshResults((function(e){return!e})),e.setShowModal(!1))}))},children:"Add to Watched"})]}),Object(c.jsx)(x.a,{variant:"secondary",onClick:function(){e.setShowModal(!1)},children:"Close"})]})]})}function $(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),s=a[0],r=a[1];return e.render&&Object(c.jsxs)("div",{className:"pb-4 col-6 col-sm-6 col-md-4 col-lg-3 col-xl-2",children:[Object(c.jsx)(_,Object(E.a)(Object(E.a)({},e),{},{showModal:s,setShowModal:r})),Object(c.jsxs)(b.a,{className:"border-0",children:[Object(c.jsx)("div",{className:"embed-responsive",style:{paddingBottom:"138%"},children:Object(c.jsx)("button",{onClick:function(){r(!0)},style:{cursor:"pointer "},className:"p-0 m-0",children:Object(c.jsx)(b.a.Img,{variant:"top",src:e.poster,className:"embed-responsive-item"})})}),Object(c.jsxs)(b.a.Body,{className:"p-0",children:[Object(c.jsx)(b.a.Title,{className:"mt-1 mb-0 p-0",style:{fontSize:"14px"},children:Object(c.jsx)(V.a,{lines:2,portrait:2,dangerouslySetInnerHTML:{__html:e.title}})}),Object(c.jsx)("div",{className:"d-flex",children:"".concat(e.yearRelease," \u2022 ").concat(e.type)}),Object(c.jsx)("div",{className:"d-flex justify-content-center"})]})]})]})}var ee=a.p+"static/media/tmdblogo.caee7457.svg",te="https://api.themoviedb.org/3/";function ae(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(l.a.mark((function e(t){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(te,"search/multi?api_key=").concat("bf4a801f168f1f33a9e3cee1f3767ab4","&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return a=e.sent,c=a.json(),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(l.a.mark((function e(t,a){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("movie"===a?"https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("bf4a801f168f1f33a9e3cee1f3767ab4","&language=en-US"):"https://api.themoviedb.org/3/tv/".concat(t,"?api_key=").concat("bf4a801f168f1f33a9e3cee1f3767ab4","&language=en-US"));case 2:return c=e.sent,n=c.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return{title:e.original_title||e.original_name||"No title",poster:e.poster_path?"".concat("https://image.tmdb.org/t/p/w342/").concat(e.poster_path):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAEsCAMAAACxJAyMAAAAAXNSR0IArs4c6QAAAIdQTFRF3d3d2NjYwMDA1NTU3NzczMzMsrKyxsbGvb29sbGxurq62tra0tLSs7Ozz8/PwsLCtLS0t7e32dnZ19fXxMTExcXF09PTubm51dXVuLi4vLy8ysrKzc3NtbW10NDQwcHBx8fH1tbWyMjIv7+/zs7Ow8PD29vbycnJvr6+u7u70dHRtra2y8vLJmBMyQAABgxJREFUeJztnI12qjoQhRURBERREVTA3ypiff/nu6gVkoCWeogJ3v2tVVZLqM52MplJArZaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaAJtpSPahFpQu5quijaiFnqGaYm2oQ76tmEPRBtRA+rQMIyhaCtqoOOkQkZj0Wb8nUnXnZB/T40LXVHmvIjluabhkx//bH4VsmhUuPcD006NDsnBVr/qMKKZMKv+yni5iq42+23ibOfmEMPQhRn2N7y1b/+YvCbPhz8nDX8jyLI/YE22u7sKZoCyetn5L2H2VWU8HRkE+wPRNsgFyt+3PJvU4XhE00HJG6bCDKyIOiV1GAo5zvYJjdJnkgnVsWwyFKxh3uBLX8qvKYf08hyyiY+5Q5KTQBMrsUlIHdq9zB2H7reWuUnpSpjYrQ5l1IByiH8tsw7e3s87m7n2JJThhQsqc6tHSkiQnpqFuyg78b0/SaiivRymkb0nS6kTNfb6m3GfcEa0CL2HLyYMy1vPL1bbVPmnkDps/eznwkx9Jp8zDuOz8mPinjxPO0Rz8i41/Go/ejFxHE55f7FDooFMFKRndvpMwnWTmZ5ouZFHspTqfJeoGOlLCVWkEZ5QZpIOaU01Vka060rYpS6oXcpQaoXKMhlnpClDSmdcGNPGBmRbSDX5ijd59CoSQBfpo37eYg0IjfbubEnrjCsr6lPPxl7L0/PJn23qfflSBo0XkTqin0Q96xJViLM/y7/8dtAphwwvY6/lufkUxFl0JaxCitCzJs1LC9tukudv3+3I3qVuqLRD9laoEIWtMpB5lKI4+KQOWzGzBKgtpKxCHnGmHJLP+ObTr8Pv/y0P1sIowZG2CnnIslBKGZrMVcgjVIWVMd8NmjFK0ZyoZJhWIcG4UZFxx3JJGf7Ukz9/l9PJE1+khE1VkbK9j1JpFdK4+CYY3/aa5vuvJsY3wcUhzrHbgI2mAm2v388WrVTf6E29Jo5SB+9o27Yf/GTtw7pZVUhOeFva0aZNDuyU9r2usptWSDF4WV21FW3KvzHIhNzv5Dmtg20cBLdDHAdxcGJ73WZ9acgvCeKwEFjLbXxvTZv5D+X5hs19pSQs1L4+q2Q2Zy9xAlZJTL9E2OJMJ1u/uq/BHbY2aya7E6guffYS58wo2dA19PeSt5L79DzJU0ngsGYWfHIy2UsKPpnRS2Pc70Fr3z65hFjdUYPffXL63SczyidH3kJa43CqrGJqP0qNCz4x2T2Dok+ipz5Z8NZRinouKqnQuwo+IZQk77OeohgnyStxkvcuMR4p9YnP9q5+UUnMKsk26Xrvs52mZOwy2fsxSiI+YFPO3SfChJSOwqxPlgl7SSHiOyvRQir5pKR3PRi7RAX7hVozo6hgv1LmE6Z3qVUifiW2a7XKxy7WJ/1CnBR8slmJFtJqdSPWzEKOL1ESM2X7ZshXiFWB84g1018e6EtOR7byT5XQdIZcY2RvmmaSJKb/5NArCDHmaYNJXpIUpjBOktwu+TksFgpPIYU+wRGuHind0OEE1xhJPkVI7/f3rw2umf2dQrjGyDuFcO1aCHbZhCDYXwDBXgUE+wt8TNdCsMsmRFSwayt3v3dd8uBmB+Zc9ptSvD/qPUKSx+8bvXITyrgwwX+TkCddK3rl1ofNEyGigt15RcjkiRBRwR51qiyxsGslorrWk2C3zXwJpPqhsGX3JiHJ4/etnY8p4z8mIX6MEJTxVUjeKORjlkxRxssm5GOCnatHkjcK+ZjMjmD/RyGaMxp9j0Z/OxT2sglEBXv0yj2IS1HzkeSJkFeeNXw2Q8ScvQrPhNTtEVHB7ri67qY/t8M0OzB/0gf3SbR/TGb/mDIemb0KH1M0ooyXTUjyRiGYs1fh/1DG1w6CvQrH39+/NnY8hZR/cRkfuN5lun6yC1szGtdvmZ0Unifkhs/1223U4F06tDPfZ5pV93cbasHl/Wz2JC75gr/aieI3fG3SzF04Nk+chdtp+LPyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABH/gPurGhCde7yjgAAAABJRU5ErkJggg==",posterBackdrop:e.backdrop_path?"".concat("https://image.tmdb.org/t/p/original/").concat(e.backdrop_path):null,yearRelease:e.release_date?e.release_date.substring(0,4):e.first_air_date?e.first_air_date.substring(0,4):"No Date",type:"movie"===e.media_type?"Movie":"Show",id:e.id,overview:e.overview}}function ie(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),i=Object(d.a)(r,2),o=i[0],b=i[1],O=Object(n.useState)(""),f=Object(d.a)(O,2),m=f[0],v=f[1],w=Object(n.useState)(!1),y=Object(d.a)(w,2),g=y[0],A=y[1],k=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(!0),ae(a).then((function(e){b(e.results),0===e.total_results&&v("No Results Found"),A(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(j.a,{className:"pt-4",children:[Object(c.jsxs)(X.a,{className:"mb-1",children:[Object(c.jsx)(p.a.Control,{className:"py-2 br-0 border input-lg",type:"search",placeholder:"Find movies and shows",value:a,onChange:function(e){s(e.target.value),v("")},onKeyPress:function(e){13===e.charCode&&k()},style:{fontSize:"16px"}}),Object(c.jsx)(X.a.Append,{children:Object(c.jsx)(x.a,{onClick:k,disabled:g,children:g?Object(c.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Search"})})]}),Object(c.jsx)("div",{className:"mt-3 mb-4 w-100 d-flex justify-content-end",children:Object(c.jsx)("img",{className:"m-0",style:{height:"12px"},src:ee,alt:"TMDB Logo"})}),Object(c.jsxs)("div",{className:"row",children:[m&&Object(c.jsx)(h.a,{variant:"dark",className:"mx-3 w-100",children:m}),o?o.map((function(e){var t=re(e);return Object(c.jsx)($,{title:t.title,poster:t.poster,yearRelease:t.yearRelease,posterBackdrop:t.posterBackdrop,overview:t.overview,genres:t.genres,type:t.type,id:t.id,render:!0})})):null]})]})})}function oe(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(T,{activeItem:"discover"}),Object(c.jsx)(ie,{})]})}function le(){var e=I().currentUser,t=Object(n.useState)([]),a=Object(d.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)(!1),o=Object(d.a)(i,2),l=o[0],u=o[1],b=Object(n.useState)(!0),h=Object(d.a)(b,2),p=h[0],x=h[1];return Object(n.useEffect)((function(){x(!0),S(e.uid).then((function(e){if(e.exists()){var t=[],a=[];Object.keys(e.val()).forEach((function(c){a.push(ne(e.val()[c].ID,e.val()[c].type).then((function(a){t.push(Object(E.a)(Object(E.a)({},a),{media_type:e.val()[c].type}))})))})),Promise.all(a).finally((function(){r(t)}))}else r([]);x(!1)}))}),[l,e.uid]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(T,{activeItem:"watch-list"}),Object(c.jsx)(j.a,{className:"pt-5",children:s.length>0?Object(c.jsx)("div",{className:"row",children:s.map((function(e){var t=re(e);return Object(c.jsx)($,{title:t.title,poster:t.poster,yearRelease:t.yearRelease,posterBackdrop:t.posterBackdrop,overview:t.overview,type:t.type,id:t.id,render:!0,refreshResults:l,setRefreshResults:u})}))}):p?null:Object(c.jsxs)("h4",{style:{textAlign:"center"},children:["It looks a bit empty here...",Object(c.jsx)("br",{}),Object(c.jsx)(B.b,{to:"".concat("/watchist","/"),children:"Discover"})," you next favourite movie or show"]})})]})}function ue(){var e=I().currentUser,t=Object(n.useState)([]),a=Object(d.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)(!1),o=Object(d.a)(i,2),l=o[0],u=o[1],b=Object(n.useState)(!0),h=Object(d.a)(b,2),p=h[0],x=h[1];return Object(n.useEffect)((function(){x(!0),C(e.uid).then((function(e){if(e.exists()){var t=[],a=[];Object.keys(e.val()).forEach((function(c){a.push(ne(e.val()[c].ID,e.val()[c].type).then((function(a){t.push(Object(E.a)(Object(E.a)({},a),{media_type:e.val()[c].type}))})))})),Promise.all(a).finally((function(){r(t)}))}else r([]);x(!1)}))}),[l,e.uid]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(T,{activeItem:"watched"}),Object(c.jsx)(j.a,{className:"pt-5",children:s.length>0?Object(c.jsx)("div",{className:"row",children:s.map((function(e){var t=re(e);return Object(c.jsx)($,{title:t.title,poster:t.poster,yearRelease:t.yearRelease,posterBackdrop:t.posterBackdrop,overview:t.overview,type:t.type,id:t.id,render:!0,refreshResults:l,setRefreshResults:u})}))}):p?null:Object(c.jsxs)("h4",{style:{textAlign:"center"},children:["Nothing to see here... yet!",Object(c.jsx)("br",{}),Object(c.jsx)(B.b,{to:"".concat("/watchist","/"),children:"Discover"})," and get watching"]})})]})}var de=function(){return Object(c.jsx)(B.a,{children:Object(c.jsx)(L.d,{children:Object(c.jsxs)(J,{children:[Object(c.jsx)(D,{path:"".concat("/watchist","/update-profile"),component:H}),Object(c.jsx)(L.b,{path:"".concat("/watchist","/signup"),component:F}),Object(c.jsx)(L.b,{path:"".concat("/watchist","/login"),component:M}),Object(c.jsx)(L.b,{path:"".concat("/watchist","/forgot-password"),component:G}),Object(c.jsx)(D,{exact:!0,path:"".concat("/watchist","/"),component:oe}),Object(c.jsx)(D,{path:"".concat("/watchist","/watch-list"),component:le}),Object(c.jsx)(D,{path:"".concat("/watchist","/watched"),component:ue})]})})})};a(99);a(100).config(),i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(de,{})}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.4ed08595.chunk.js.map