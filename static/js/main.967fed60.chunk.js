(this.webpackJsonpwatchist=this.webpackJsonpwatchist||[]).push([[0],{95:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a(0),n=a.n(s),r=a(28),i=a.n(r),l=a(11),o=a.n(l),u=a(14),j=a(10),d=a(100),b=a(107),h=a(105),p=a(103),O=a(67),m=a(64),x=(a(77),a(79),m.a.initializeApp({apiKey:"AIzaSyBm3plCHL7SqJtC5J82NCK7xg1cQehzGrA",authDomain:"watchist-development.firebaseapp.com",databaseURL:"https://watchist-development-default-rtdb.firebaseio.com",projectId:"watchist-development",storageBucket:"watchist-development.appspot.com",messagingSenderId:"67018022345",appId:"1:67018022345:web:ccf130ed4a1592f1dbdc18"})),f=x.auth(),v=x,A=n.a.createContext();function g(){return Object(s.useContext)(A)}function y(e){var t=e.children,a=Object(s.useState)(),n=Object(j.a)(a,2),r=n[0],i=n[1],l=Object(s.useState)(!0),o=Object(j.a)(l,2),u=o[0],d=o[1];Object(s.useEffect)((function(){return f.onAuthStateChanged((function(e){i(e),d(!1)}))}),[]);var b={currentUser:r,login:function(e,t){return f.signInWithEmailAndPassword(e,t)},signup:function(e,t){return f.createUserWithEmailAndPassword(e,t)},logout:function(){return f.signOut()},resetPassword:function(e){return f.sendPasswordResetEmail(e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)}};return Object(c.jsx)(A.Provider,{value:b,children:!u&&t})}var w=a(13),k=a(15);function S(){var e=Object(s.useRef)(),t=Object(s.useRef)(),a=Object(s.useRef)(),n=g().signup,r=Object(s.useState)(""),i=Object(j.a)(r,2),l=i[0],m=i[1],x=Object(s.useState)(!1),f=Object(j.a)(x,2),v=f[0],A=f[1],y=Object(w.g)();function S(){return(S=Object(u.a)(o.a.mark((function c(s){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s.preventDefault(),t.current.value===a.current.value){c.next=3;break}return c.abrupt("return",m("Passwords do not match"));case 3:return c.prev=3,m(""),A(!0),c.next=8,n(e.current.value,t.current.value);case 8:y.push("/"),c.next=21;break;case 11:c.prev=11,c.t0=c.catch(3),c.t1=c.t0.code,c.next="auth/email-already-in-use"===c.t1?16:"auth/weak-password"===c.t1?18:20;break;case 16:return m("User email already exists"),c.abrupt("break",21);case 18:return m("Use at least 6 characters in password"),c.abrupt("break",21);case 20:m("Failed to create an account");case 21:A(!1);case 22:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(d.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),l&&Object(c.jsx)(h.a,{variant:"danger",children:l}),Object(c.jsxs)(p.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(c.jsxs)(p.a.Group,{id:"email",children:[Object(c.jsx)(p.a.Label,{children:"Email"}),Object(c.jsx)(p.a.Control,{type:"email",ref:e,required:!0})]}),Object(c.jsxs)(p.a.Group,{id:"password",children:[Object(c.jsx)(p.a.Label,{children:"Password"}),Object(c.jsx)(p.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Must be at least 6 characters long"}),Object(c.jsx)(p.a.Control,{type:"password",ref:t,required:!0})]}),Object(c.jsxs)(p.a.Group,{id:"password-confirm",children:[Object(c.jsx)(p.a.Label,{children:"Confirm Password"}),Object(c.jsx)(p.a.Control,{type:"password",ref:a,required:!0})]}),Object(c.jsx)(O.a,{disabled:v,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(c.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(c.jsx)(k.b,{to:"/login",children:"Log In"})]})]})})})}function N(){var e=Object(s.useRef)(),t=Object(s.useRef)(),a=g().login,n=Object(s.useState)(""),r=Object(j.a)(n,2),i=r[0],l=r[1],m=Object(s.useState)(!1),x=Object(j.a)(m,2),f=x[0],v=x[1],A=Object(w.g)();function y(){return(y=Object(u.a)(o.a.mark((function c(s){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s.preventDefault(),c.prev=1,l(""),v(!0),c.next=6,a(e.current.value,t.current.value);case 6:A.push("/"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),l("Email and password combination is incorrect");case 12:v(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(d.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:[Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsxs)(b.a,{children:[Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:" Log In "})," ",i&&Object(c.jsxs)(h.a,{variant:"danger",children:[" ",i," "]})," ",Object(c.jsxs)(p.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(c.jsxs)(p.a.Group,{id:"email",children:[Object(c.jsx)(p.a.Label,{children:" Email "})," ",Object(c.jsx)(p.a.Control,{type:"email",ref:e,required:!0})]})," ",Object(c.jsxs)(p.a.Group,{id:"password",children:[Object(c.jsx)(p.a.Label,{children:" Password "})," ",Object(c.jsx)(p.a.Control,{type:"password",ref:t,required:!0})]})," ",Object(c.jsxs)(O.a,{disabled:f,className:"w-100",type:"submit",children:["Log In"," "]})," "]})," ",Object(c.jsxs)("div",{className:"w-100 text-center mt-3",children:[Object(c.jsx)(k.b,{to:"/forgot-password",children:" Forgot Password ? "})," "]})," "]})," "]})," ",Object(c.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account ? ",Object(c.jsx)(k.b,{to:"/signup",children:" Sign Up "})," "]})," "]})," "]})," "]})}var C=a(20),P=a(70);function R(e){var t=e.component,a=Object(P.a)(e,["component"]),s=g().currentUser;return Object(c.jsx)(w.b,Object(C.a)(Object(C.a)({},a),{},{render:function(e){return s?Object(c.jsx)(t,Object(C.a)({},e)):Object(c.jsx)(w.a,{to:"/signup"})}}))}function U(){var e=Object(s.useRef)(),t=g().resetPassword,a=Object(s.useState)(""),n=Object(j.a)(a,2),r=n[0],i=n[1],l=Object(s.useState)(""),m=Object(j.a)(l,2),x=m[0],f=m[1],v=Object(s.useState)(!1),A=Object(j.a)(v,2),y=A[0],w=A[1];function S(){return(S=Object(u.a)(o.a.mark((function a(c){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,f(""),i(""),w(!0),a.next=7,t(e.current.value);case 7:f("Check your inbox for further instructions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),i("Failed to reset password");case 13:w(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(d.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),r&&Object(c.jsx)(h.a,{variant:"danger",children:r}),x&&Object(c.jsx)(h.a,{variant:"success",children:x}),Object(c.jsxs)(p.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(c.jsxs)(p.a.Group,{id:"email",children:[Object(c.jsx)(p.a.Label,{children:"Email"}),Object(c.jsx)(p.a.Control,{type:"email",ref:e,required:!0})]}),Object(c.jsx)(O.a,{disabled:y,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(c.jsx)("div",{className:"w-100 text-center mt-3",children:Object(c.jsx)(k.b,{to:"/login",children:"Login"})})]})}),Object(c.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(c.jsx)(k.b,{to:"/signup",children:"Sign Up"})]})]})})})}function J(){var e=Object(s.useRef)(),t=Object(s.useRef)(),a=Object(s.useRef)(),n=g(),r=n.currentUser,i=n.updatePassword,l=n.updateEmail,o=Object(s.useState)(""),u=Object(j.a)(o,2),m=u[0],x=u[1],f=Object(s.useState)(!1),v=Object(j.a)(f,2),A=v[0],y=v[1],S=Object(w.g)();return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(d.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(c.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(c.jsx)(b.a,{children:Object(c.jsxs)(b.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),m&&Object(c.jsx)(h.a,{variant:"danger",children:m}),Object(c.jsxs)(p.a,{onSubmit:function(c){if(c.preventDefault(),t.current.value!==a.current.value)return x("Passwords do not match");var s=[];y(!0),x(""),e.current.value!==r.email&&s.push(l(e.current.value)),t.current.value&&s.push(i(t.current.value)),Promise.all(s).then((function(){S.push("/")})).catch((function(e){switch(e.code){case"auth/email-already-in-use":x("User email already exists");break;case"auth/id-token-revoked":x("Session expired, please login again"),setTimeout((function(){S.push("/login")}),3e3);break;case"auth/weak-password":x("Use at least 6 characters in password");break;default:x("Failed to update account")}})).finally((function(){y(!1)}))},children:[Object(c.jsxs)(p.a.Group,{id:"email",children:[Object(c.jsx)(p.a.Label,{children:"Email"}),Object(c.jsx)(p.a.Control,{type:"email",ref:e,required:!0,defaultValue:r.email})]}),Object(c.jsxs)(p.a.Group,{id:"password",children:[Object(c.jsx)(p.a.Label,{children:"Password"}),Object(c.jsx)(p.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(c.jsxs)(p.a.Group,{id:"password-confirm",children:[Object(c.jsx)(p.a.Label,{children:"Password Confirmation"}),Object(c.jsx)(p.a.Control,{type:"password",ref:a,placeholder:"Leave blank to keep the same"})]}),Object(c.jsx)(O.a,{disabled:A,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(c.jsx)("div",{className:"w-100 text-center mt-2",children:Object(c.jsx)(k.b,{to:"/",children:"Cancel"})})]})})})}var L=a(104),F=a(106),I=a(102),E=a.p+"static/media/logo.792cc7bc.png";function B(e){var t=Object(s.useState)(""),a=Object(j.a)(t,2),n=a[0],r=a[1],i=e.activeItem,l=g(),d=l.currentUser,b=l.logout,p=Object(w.g)();function O(){return(O=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,b();case 4:p.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(L.a,{bg:"light",expand:"lg",children:[Object(c.jsxs)(L.a.Brand,{className:"mr-4",children:[Object(c.jsx)("img",{src:E,width:"40",height:"40",className:"d-inline-block align-top",alt:"Watchist logo"}),Object(c.jsx)("div",{className:"d-inline-block my-2",style:{fontFamily:"Josefin Sans",fontSize:"20px"},children:"Watchist"})]}),Object(c.jsx)(L.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(L.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(F.a,{className:"mr-auto",children:[Object(c.jsx)(F.a.Link,{as:k.b,name:"discover",onClick:function(){p.push("/")},active:"discover"===i,children:"Discover"}),Object(c.jsx)(F.a.Link,{as:k.b,name:"watch-list",onClick:function(){p.push("/watch-list")},active:"watch-list"===i,children:"My Watch List"})]})}),Object(c.jsxs)(L.a.Collapse,{className:"justify-content-end",children:[Object(c.jsx)(L.a.Text,{children:"Signed in as:"}),Object(c.jsxs)(I.a,{title:d.email,id:"basic-nav-dropdown",children:[Object(c.jsx)(k.b,{to:"/update-profile",className:"dropdown-item",children:"Update Profile"}),Object(c.jsx)(I.a.Divider,{}),Object(c.jsx)(I.a.Item,{onClick:function(){return O.apply(this,arguments)},children:"Log out"})]})]})]}),n&&Object(c.jsx)(h.a,{variant:"danger",children:n})]})}var G=a(101),z=(a(89),a(38)),H=a(69),D=a.n(H);function q(e){var t=g().currentUser,a=v.database().ref("users").child("".concat(t.uid,"/watchlist")),n=Object(s.useState)(e.result.id in e.watchList),r=Object(j.a)(n,2),i=r[0],l=r[1],d=Object(s.useState)(!0),h=Object(j.a)(d,2),p=h[0],m=h[1];return p&&Object(c.jsx)("div",{className:"pb-4 col-6 col-sm-6 col-md-4 col-lg-3 col-xl-2",children:Object(c.jsxs)(b.a,{className:"border-0",children:[Object(c.jsx)("div",{className:"border=0 embed-responsive",style:{paddingBottom:"150%"},children:Object(c.jsx)(b.a.Img,{variant:"top",src:e.result.poster_path?"https://image.tmdb.org/t/p/w342/".concat(e.result.poster_path):"data:image/png;base64,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",className:"embed-responsive-item"})}),Object(c.jsxs)(b.a.Body,{className:"p-0",children:[Object(c.jsx)(b.a.Title,{className:"mt-1 mb-0 p-0",style:{fontSize:"14px"},children:Object(c.jsx)(D.a,{lines:2,portrait:2,dangerouslySetInnerHTML:{__html:e.result.original_title||e.result.original_name||"No title"}})}),Object(c.jsx)("div",{className:"d-flex",children:"".concat(e.result.release_date?e.result.release_date.substring(0,4):e.result.first_air_date?e.result.first_air_date.substring(0,4):"No Date"," \u2022 \n            ").concat("movie"===e.result.media_type?"Movie":"Show")}),Object(c.jsx)("div",{className:"d-flex justify-content-center",children:i?Object(c.jsx)(O.a,{id:e.result.id,className:"mt-1",style:{width:"100%"},variant:"primary",onClick:function(){var t=Object(u.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.update(Object(z.a)({},c.target.id,null));case 2:e.deleteFully?m(!1):l(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Remove"}):Object(c.jsx)(O.a,{id:e.result.id,className:"mt-1",style:{width:"100%"},variant:"primary",onClick:function(){var t=Object(u.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.update(Object(z.a)({},c.target.id,{type:e.result.media_type,ID:c.target.id})).then(l(!0));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Add"})})]})]})})}var M=a.p+"static/media/tmdblogo.caee7457.svg";function K(){var e=g().currentUser,t=Object(s.useState)(""),a=Object(j.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)([]),l=Object(j.a)(i,2),b=l[0],m=l[1],x=Object(s.useState)(""),f=Object(j.a)(x,2),A=f[0],y=f[1],w=Object(s.useState)(!1),k=Object(j.a)(w,2),S=k[0],N=k[1],C=Object(s.useState)({}),P=Object(j.a)(C,2),R=P[0],U=P[1],J=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(!0),t.next=3,v.database().ref("users").child("".concat(e.uid,"/watchlist/")).once("value",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exists()&&U(t.val());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return t.next=5,fetch("https://api.themoviedb.org/3/search/multi?api_key=".concat("bf4a801f168f1f33a9e3cee1f3767ab4","&language=en-US&query=").concat(n,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){0===e.total_results&&y("No Results Found"),m(e.results)}));case 5:N(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(d.a,{className:"pt-4",children:[Object(c.jsxs)(G.a,{className:"mb-1",children:[Object(c.jsx)(p.a.Control,{className:"py-2 br-0 border input-lg",type:"search",placeholder:"Find movies and shows",value:n,onChange:function(e){r(e.target.value),y("")},onKeyPress:function(e){13===e.charCode&&J()},style:{fontSize:"16px"}}),Object(c.jsx)(G.a.Append,{children:Object(c.jsx)(O.a,{onClick:J,disabled:S,children:S?Object(c.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Search"})})]}),Object(c.jsxs)("div",{className:"mt-2 mb-4",style:{float:"right"},children:["Powered by:",Object(c.jsx)("img",{className:"ml-2",style:{height:"10px"},src:M,alt:"TMDB Logo"})]}),A&&Object(c.jsx)(h.a,{variant:"dark",children:A}),Object(c.jsx)("div",{className:"row",children:b?b.map((function(e){return Object(c.jsx)(q,{watchList:R,result:e},e.id)})):null})]})})}function Z(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B,{activeItem:"discover"}),Object(c.jsx)(K,{})]})}var T=a(41);function W(){var e=g().currentUser,t=Object(s.useState)([]),a=Object(j.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)({}),l=Object(j.a)(i,2),b=l[0],h=l[1];function p(){return(p=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.database().ref("users").child("".concat(e.uid,"/watchlist/")).once("value",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exists()&&h(t.val());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:Object.keys(a.val()).map((function(e){"movie"===a.val()[e].type?fetch("https://api.themoviedb.org/3/movie/".concat(a.val()[e].ID,"?api_key=").concat("bf4a801f168f1f33a9e3cee1f3767ab4","&language=en-US")).then((function(e){return e.json()})).then((function(e){console.log([].concat(Object(T.a)(n),[Object(C.a)(Object(C.a)({},e),{media_type:"tv"})])),r((function(t){return[].concat(Object(T.a)(t),[Object(C.a)(Object(C.a)({},e),{media_type:"movie"})])}))})):fetch("https://api.themoviedb.org/3/tv/".concat(a.val()[e].ID,"?api_key=").concat("bf4a801f168f1f33a9e3cee1f3767ab4","&language=en-US")).then((function(e){return e.json()})).then((function(e){console.log([].concat(Object(T.a)(n),[Object(C.a)(Object(C.a)({},e),{media_type:"tv"})])),r((function(t){return[].concat(Object(T.a)(t),[Object(C.a)(Object(C.a)({},e),{media_type:"tv"})])}))}))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){v.database().ref("users").child("".concat(e.uid,"/watchlist/")).once("value",(function(e){e.exists()&&function(e){p.apply(this,arguments)}(e)}))}),[e.uid]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B,{activeItem:"watch-list"}),Object(c.jsx)(d.a,{className:"pt-5",children:Object(c.jsx)("div",{className:"row",children:n?n.map((function(e){return Object(c.jsx)(q,{watchList:b,result:e,deleteFully:!0},e.id)})):null})})]})}var X=function(){return Object(c.jsx)(k.a,{children:Object(c.jsx)(w.d,{children:Object(c.jsxs)(y,{children:[Object(c.jsx)(R,{path:"/update-profile",component:J}),Object(c.jsx)(w.b,{path:"/signup",component:S}),Object(c.jsx)(w.b,{path:"/login",component:N}),Object(c.jsx)(w.b,{path:"/forgot-password",component:U}),Object(c.jsx)(R,{exact:!0,path:"/",component:Z}),Object(c.jsx)(R,{path:"/watch-list",component:W})]})})})};a(94);i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(X,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.967fed60.chunk.js.map